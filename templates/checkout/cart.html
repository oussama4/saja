{% extends "base.html" %}
{% load static i18n wagtailcore_tags wagtailimages_tags %}
{% block content %}
<section class="uk-section uk-section-small">
  <div class="uk-container">
   <div class="uk-grid-medium uk-child-width-1-1 uk-grid uk-grid-stack" uk-grid="">
	<div class="uk-grid-medium" uk-grid>
	  <!--Items-->
	  <div class="uk-width-1-1 uk-width-expand@m">
	    <div class="uk-card uk-card-default uk-card-small tm-ignore-container">
	      <!--Header-->
	      <header class="uk-card-header uk-text-uppercase uk-text-muted uk-text-center uk-text-small uk-visible@m" >
		<div class="uk-grid-small uk-child-width-1-2" uk-grid>
		  <!--Product cell-->
		      <div>{% trans 'produit' %}</div>
		  <!--Other cells-->
		  <div>
		    <div class="uk-grid-small uk-child-width-expand" uk-grid>
		      <div>{% trans 'prix' %}</div>
		      <div class="tm-quantity-column">{% trans 'quantite' %}</div>
		      <div>{% trans 'somme' %}</div>
		      <div class="uk-width-auto">
			<div style="width: 20px;"></div>
		      </div>
		    </div>
		  </div>
		</div>
	      </header>
	      <!--Body-->
	      {% for item in object.items.all %}
	       {% image item.product_id.first_image.product_image fill-200x140 as img %}
	      <div class="uk-card-body">
		<div class="uk-grid-small uk-child-width-1-1 uk-child-width-1-2@m uk-flex-middle" uk-grid>
		  <!--Product cell-->
		  <div>
		    <div class="uk-grid-small" uk-grid>
		      <!--Image-->
		      <div class="uk-width-1-3">
			<div class="tm-ratio tm-ratio-4-3">
			  <a class="tm-media-box" href="product.href">
			    <figure class="tm-media-box-wrap">
				    <img src="{{ img.url }}" alt="{{ img.alt }}">
			      <span class="uk-text-muted" uk-icon="icon: image; ratio: 3"></span>
			    </figure>
			  </a>
			</div>
		      </div>
		      <!--Info-->
		      <div class="uk-width-expand">
			      <a class="uk-link-heading" href="{% pageurl item.product_id%}">{{ item.product_id.title }}</a>
		      </div>
		    </div>
		  </div>
		  <!--Other cells-->



		  <div>
		    <div class="uk-grid-small uk-margin-remove uk-child-width-1-1 uk-child-width-1-5@s uk-text-center" uk-grid>
		      <!--Price-->
		      <div>
			      <div class="uk-text-muted uk-hidden@m">{% trans 'Prix' %}</div>
			      <div>{{ item.product_id.price }}</div>
		      </div>
		      <!--Quantity-->
		      <div class="tm-cart-quantity-column">
			      <a onclick="increment(-1, '{{item.product_id.page_ptr_id}}')" uk-icon="icon: minus; ratio: .75" class="uk-icon"></a>
			<input class="uk-input tm-quantity-input" min='1'
	  max='10000' step="1" id="{{ item.product_id.page_ptr_id }}" type="number" readonly  value='{{item.quantity}}'>
			<a onclick="increment(+1, '{{ item.product_id.page_ptr_id }}')" uk-icon="icon: plus; ratio: .75" class="uk-icon"></a> 
		      </div>
		      <!--Sum-->
		      <div>
			      <div class="uk-text-muted uk-hidden@m">{% trans 'Somme' %}</div>
			      <div>{{ item.total_price }}</div>
		      </div>
		      <!--Actions-->
		      <div class="uk-width-auto@s">
			<a class="uk-text-danger" uk-tooltip="Remove">
			  <span uk-icon="icon: close"></span>
			</a>
		      </div>
		    </div>
		  </div>



		</div>
	      </div>
	      {% endfor %}
	    </div>

	  </div>
	  <!--checkout-->
	  <div class="uk-width-1-1 tm-aside-column uk-width-1-4@m">
	    <div class="uk-card uk-card-default uk-card-small tm-ignore-container" uk-sticky="offset: 30; bottom: true; media: @m;">
	      <div class="uk-card-body">
		<div class="uk-grid-small" uk-grid>
			<div class="uk-width-expand uk-text-muted">{% trans 'Pre Total' %}</div>
		  <div>{{ object.total_price }}DH</div>
		</div>
		<div class="uk-grid-small" uk-grid>
		  <div class="uk-width-expand uk-text-muted">Remise</div>
		  <div class="uk-text-danger">-$29</div>
		</div>
	      </div>
	      <div class="uk-card-body">
		<div class="uk-grid-small uk-flex-middle" uk-grid>
			<div class="uk-width-expand uk-text-muted ">{% trans 'Total'%}</div>
		  <div class="uk-text-lead uk-text-bolder ">{{ object.total_price }}</div>
		</div>
		<a class="uk-button uk-button-primary uk-margin-small uk-width-1-1" href="checkout.html"> checkout</a>
	      </div>
	    </div>
	  </div>
	</div>
     </div>
   </div>
</div>
{% endblock content %}
